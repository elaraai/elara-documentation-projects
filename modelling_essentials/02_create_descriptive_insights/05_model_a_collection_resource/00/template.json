{
  "streams": {
    "SimulationJournal.Descriptive": {
      "name": "SimulationJournal.Descriptive",
      "type": {
        "type": "Array",
        "value": {
          "type": "Variant",
          "value": {
            "Sales": {
              "type": "Struct",
              "value": {
                "date": {
                  "type": "DateTime",
                  "value": null
                },
                "saleQty": {
                  "type": "Dict",
                  "value": {
                    "key": {
                      "type": "String",
                      "value": null
                    },
                    "value": {
                      "type": "Integer",
                      "value": null
                    }
                  }
                }
              }
            }
          }
        }
      },
      "writable": false
    },
    "SimulationLedger.Descriptive.Stock-on-hand": {
      "name": "SimulationLedger.Descriptive.Stock-on-hand",
      "type": {
        "type": "Array",
        "value": {
          "type": "Struct",
          "value": {
            "journal_id": {
              "type": "Integer",
              "value": null
            },
            "date": {
              "type": "DateTime",
              "value": null
            },
            "event": {
              "type": "Variant",
              "value": {
                "delete": {
                  "type": "String",
                  "value": null
                },
                "deleteAll": {
                  "nullable": true
                },
                "deleteMany": {
                  "type": "Set",
                  "value": {
                    "type": "String",
                    "value": null
                  }
                },
                "insert": {
                  "type": "Struct",
                  "value": {
                    "key": {
                      "type": "String",
                      "value": null
                    },
                    "value": {
                      "type": "Struct",
                      "value": {
                        "name": {
                          "type": "String",
                          "value": null
                        },
                        "qty": {
                          "type": "Integer",
                          "value": null
                        }
                      }
                    }
                  }
                },
                "insertMany": {
                  "type": "Dict",
                  "value": {
                    "key": {
                      "type": "String",
                      "value": null
                    },
                    "value": {
                      "type": "Struct",
                      "value": {
                        "name": {
                          "type": "String",
                          "value": null
                        },
                        "qty": {
                          "type": "Integer",
                          "value": null
                        }
                      }
                    }
                  }
                },
                "set": {
                  "type": "Dict",
                  "value": {
                    "key": {
                      "type": "String",
                      "value": null
                    },
                    "value": {
                      "type": "Struct",
                      "value": {
                        "name": {
                          "type": "String",
                          "value": null
                        },
                        "qty": {
                          "type": "Integer",
                          "value": null
                        }
                      }
                    }
                  }
                },
                "update": {
                  "type": "Struct",
                  "value": {
                    "key": {
                      "type": "String",
                      "value": null
                    },
                    "value": {
                      "type": "Struct",
                      "value": {
                        "name": {
                          "type": "String",
                          "value": null
                        },
                        "qty": {
                          "type": "Integer",
                          "value": null
                        }
                      }
                    }
                  }
                },
                "updateMany": {
                  "type": "Dict",
                  "value": {
                    "key": {
                      "type": "String",
                      "value": null
                    },
                    "value": {
                      "type": "Struct",
                      "value": {
                        "name": {
                          "type": "String",
                          "value": null
                        },
                        "qty": {
                          "type": "Integer",
                          "value": null
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "writable": false
    },
    "SimulationQueue.Descriptive": {
      "name": "SimulationQueue.Descriptive",
      "type": {
        "type": "Array",
        "value": {
          "type": "Variant",
          "value": {
            "Sales": {
              "type": "Struct",
              "value": {
                "date": {
                  "type": "DateTime",
                  "value": null
                },
                "saleQty": {
                  "type": "Dict",
                  "value": {
                    "key": {
                      "type": "String",
                      "value": null
                    },
                    "value": {
                      "type": "Integer",
                      "value": null
                    }
                  }
                }
              }
            }
          }
        }
      },
      "writable": false
    },
    "SimulationResult.Descriptive.Stock-on-hand": {
      "name": "SimulationResult.Descriptive.Stock-on-hand",
      "type": {
        "type": "Dict",
        "value": {
          "key": {
            "type": "String",
            "value": null
          },
          "value": {
            "type": "Struct",
            "value": {
              "name": {
                "type": "String",
                "value": null
              },
              "qty": {
                "type": "Integer",
                "value": null
              }
            }
          }
        }
      },
      "writable": false
    },
    "Writeable.Process.Sales": {
      "name": "Writeable.Process.Sales",
      "type": {
        "type": "Dict",
        "value": {
          "key": {
            "type": "String",
            "value": null
          },
          "value": {
            "type": "Struct",
            "value": {
              "date": {
                "type": "DateTime",
                "value": null
              },
              "saleQty": {
                "type": "Dict",
                "value": {
                  "key": {
                    "type": "String",
                    "value": null
                  },
                  "value": {
                    "type": "Integer",
                    "value": null
                  }
                }
              }
            }
          }
        }
      },
      "writable": true
    },
    "Writeable.Resource.Stock-on-hand": {
      "name": "Writeable.Resource.Stock-on-hand",
      "type": {
        "type": "Dict",
        "value": {
          "key": {
            "type": "String",
            "value": null
          },
          "value": {
            "type": "Struct",
            "value": {
              "name": {
                "type": "String",
                "value": null
              },
              "qty": {
                "type": "Integer",
                "value": null
              }
            }
          }
        }
      },
      "writable": false
    }
  },
  "tasks": {
    "Simulation.Descriptive": {
      "task_type": "simulation",
      "name": "Simulation.Descriptive",
      "inputs": {
        "resource.Stock-on-hand": {
          "name": "Writeable.Resource.Stock-on-hand",
          "type": {
            "type": "Dict",
            "value": {
              "key": {
                "type": "String",
                "value": null
              },
              "value": {
                "type": "Struct",
                "value": {
                  "name": {
                    "type": "String",
                    "value": null
                  },
                  "qty": {
                    "type": "Integer",
                    "value": null
                  }
                }
              }
            }
          },
          "writable": false
        },
        "process.Sales": {
          "name": "Writeable.Process.Sales",
          "type": {
            "type": "Dict",
            "value": {
              "key": {
                "type": "String",
                "value": null
              },
              "value": {
                "type": "Struct",
                "value": {
                  "date": {
                    "type": "DateTime",
                    "value": null
                  },
                  "saleQty": {
                    "type": "Dict",
                    "value": {
                      "key": {
                        "type": "String",
                        "value": null
                      },
                      "value": {
                        "type": "Integer",
                        "value": null
                      }
                    }
                  }
                }
              }
            }
          },
          "writable": false
        }
      },
      "outputs": {
        "result.Stock-on-hand": {
          "name": "SimulationResult.Descriptive.Stock-on-hand",
          "type": {
            "type": "Dict",
            "value": {
              "key": {
                "type": "String",
                "value": null
              },
              "value": {
                "type": "Struct",
                "value": {
                  "name": {
                    "type": "String",
                    "value": null
                  },
                  "qty": {
                    "type": "Integer",
                    "value": null
                  }
                }
              }
            }
          },
          "writable": false
        },
        "ledger.Stock-on-hand": {
          "name": "SimulationLedger.Descriptive.Stock-on-hand",
          "type": {
            "type": "Array",
            "value": {
              "type": "Struct",
              "value": {
                "journal_id": {
                  "type": "Integer",
                  "value": null
                },
                "date": {
                  "type": "DateTime",
                  "value": null
                },
                "event": {
                  "type": "Variant",
                  "value": {
                    "delete": {
                      "type": "String",
                      "value": null
                    },
                    "deleteAll": {
                      "nullable": true
                    },
                    "deleteMany": {
                      "type": "Set",
                      "value": {
                        "type": "String",
                        "value": null
                      }
                    },
                    "insert": {
                      "type": "Struct",
                      "value": {
                        "key": {
                          "type": "String",
                          "value": null
                        },
                        "value": {
                          "type": "Struct",
                          "value": {
                            "name": {
                              "type": "String",
                              "value": null
                            },
                            "qty": {
                              "type": "Integer",
                              "value": null
                            }
                          }
                        }
                      }
                    },
                    "insertMany": {
                      "type": "Dict",
                      "value": {
                        "key": {
                          "type": "String",
                          "value": null
                        },
                        "value": {
                          "type": "Struct",
                          "value": {
                            "name": {
                              "type": "String",
                              "value": null
                            },
                            "qty": {
                              "type": "Integer",
                              "value": null
                            }
                          }
                        }
                      }
                    },
                    "set": {
                      "type": "Dict",
                      "value": {
                        "key": {
                          "type": "String",
                          "value": null
                        },
                        "value": {
                          "type": "Struct",
                          "value": {
                            "name": {
                              "type": "String",
                              "value": null
                            },
                            "qty": {
                              "type": "Integer",
                              "value": null
                            }
                          }
                        }
                      }
                    },
                    "update": {
                      "type": "Struct",
                      "value": {
                        "key": {
                          "type": "String",
                          "value": null
                        },
                        "value": {
                          "type": "Struct",
                          "value": {
                            "name": {
                              "type": "String",
                              "value": null
                            },
                            "qty": {
                              "type": "Integer",
                              "value": null
                            }
                          }
                        }
                      }
                    },
                    "updateMany": {
                      "type": "Dict",
                      "value": {
                        "key": {
                          "type": "String",
                          "value": null
                        },
                        "value": {
                          "type": "Struct",
                          "value": {
                            "name": {
                              "type": "String",
                              "value": null
                            },
                            "qty": {
                              "type": "Integer",
                              "value": null
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "writable": false
        },
        "journal": {
          "name": "SimulationJournal.Descriptive",
          "type": {
            "type": "Array",
            "value": {
              "type": "Variant",
              "value": {
                "Sales": {
                  "type": "Struct",
                  "value": {
                    "date": {
                      "type": "DateTime",
                      "value": null
                    },
                    "saleQty": {
                      "type": "Dict",
                      "value": {
                        "key": {
                          "type": "String",
                          "value": null
                        },
                        "value": {
                          "type": "Integer",
                          "value": null
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "writable": false
        },
        "queue": {
          "name": "SimulationQueue.Descriptive",
          "type": {
            "type": "Array",
            "value": {
              "type": "Variant",
              "value": {
                "Sales": {
                  "type": "Struct",
                  "value": {
                    "date": {
                      "type": "DateTime",
                      "value": null
                    },
                    "saleQty": {
                      "type": "Dict",
                      "value": {
                        "key": {
                          "type": "String",
                          "value": null
                        },
                        "value": {
                          "type": "Integer",
                          "value": null
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "writable": false
        }
      },
      "resources": {
        "Stock-on-hand": {
          "name": "Stock-on-hand",
          "type": {
            "type": "Dict",
            "value": {
              "key": {
                "type": "String",
                "value": null
              },
              "value": {
                "type": "Struct",
                "value": {
                  "name": {
                    "type": "String",
                    "value": null
                  },
                  "qty": {
                    "type": "Integer",
                    "value": null
                  }
                }
              }
            }
          },
          "input": "resource.Stock-on-hand",
          "assertions": [],
          "ledger": true
        }
      },
      "processes": {
        "Sales": {
          "name": "Sales",
          "values": {
            "type": "Struct",
            "value": {
              "date": {
                "type": "DateTime",
                "value": null
              },
              "saleQty": {
                "type": "Dict",
                "value": {
                  "key": {
                    "type": "String",
                    "value": null
                  },
                  "value": {
                    "type": "Integer",
                    "value": null
                  }
                }
              }
            }
          },
          "type": {
            "type": "Struct",
            "value": {
              "date": {
                "type": "DateTime",
                "value": null
              },
              "saleQty": {
                "type": "Dict",
                "value": {
                  "key": {
                    "type": "String",
                    "value": null
                  },
                  "value": {
                    "type": "Integer",
                    "value": null
                  }
                }
              }
            }
          },
          "statements": [
            {
              "type": "updateMany",
              "resource": "Stock-on-hand",
              "field": "qty",
              "expr": {
                "type": {
                  "type": "Dict",
                  "value": {
                    "key": {
                      "type": "String",
                      "value": null
                    },
                    "value": {
                      "type": "Integer",
                      "value": null
                    }
                  }
                },
                "ast_type": "ToDict",
                "collection": {
                  "type": {
                    "type": "Dict",
                    "value": {
                      "key": {
                        "type": "String",
                        "value": null
                      },
                      "value": {
                        "type": "Struct",
                        "value": {
                          "name": {
                            "type": "String",
                            "value": null
                          },
                          "qty": {
                            "type": "Integer",
                            "value": null
                          }
                        }
                      }
                    }
                  },
                  "ast_type": "Variable",
                  "name": "r_Stock-on-hand"
                },
                "output_value": {
                  "type": {
                    "type": "Integer",
                    "value": null
                  },
                  "ast_type": "Subtract",
                  "first": {
                    "type": {
                      "type": "Integer",
                      "value": null
                    },
                    "ast_type": "GetField",
                    "struct": {
                      "type": {
                        "type": "Struct",
                        "value": {
                          "name": {
                            "type": "String",
                            "value": null
                          },
                          "qty": {
                            "type": "Integer",
                            "value": null
                          }
                        }
                      },
                      "ast_type": "Variable",
                      "name": "_value_LQZXrf9ui7UiHUOdBqscyr"
                    },
                    "key": "qty"
                  },
                  "second": {
                    "type": {
                      "type": "Integer",
                      "value": null
                    },
                    "ast_type": "Get",
                    "dict": {
                      "type": {
                        "type": "Dict",
                        "value": {
                          "key": {
                            "type": "String",
                            "value": null
                          },
                          "value": {
                            "type": "Integer",
                            "value": null
                          }
                        }
                      },
                      "ast_type": "Variable",
                      "name": "p_saleQty"
                    },
                    "key": {
                      "type": {
                        "type": "String",
                        "value": null
                      },
                      "ast_type": "GetField",
                      "struct": {
                        "type": {
                          "type": "Struct",
                          "value": {
                            "name": {
                              "type": "String",
                              "value": null
                            },
                            "qty": {
                              "type": "Integer",
                              "value": null
                            }
                          }
                        },
                        "ast_type": "Variable",
                        "name": "_value_LQZXrf9ui7UiHUOdBqscyr"
                      },
                      "key": "name"
                    },
                    "default": {
                      "type": {
                        "type": "Integer",
                        "value": null
                      },
                      "ast_type": "Const",
                      "value": "0"
                    }
                  }
                },
                "output_key": {
                  "type": {
                    "type": "String",
                    "value": null
                  },
                  "ast_type": "Variable",
                  "name": "_key_r5iwiNEsYse$dvC3B9D8Xz"
                },
                "input_value": {
                  "type": {
                    "type": "Struct",
                    "value": {
                      "name": {
                        "type": "String",
                        "value": null
                      },
                      "qty": {
                        "type": "Integer",
                        "value": null
                      }
                    }
                  },
                  "ast_type": "Variable",
                  "name": "_value_LQZXrf9ui7UiHUOdBqscyr"
                },
                "input_key": {
                  "type": {
                    "type": "String",
                    "value": null
                  },
                  "ast_type": "Variable",
                  "name": "_key_r5iwiNEsYse$dvC3B9D8Xz"
                }
              },
              "assertions": []
            }
          ],
          "input": "process.Sales"
        }
      },
      "mls": {},
      "configuration": {
        "in_memory": false,
        "journal": true,
        "queue": true,
        "debug": false
      },
      "initial_queue": null,
      "end_date": null
    }
  },
  "defaults": {
    "Writeable.Process.Sales": {
      "default_type": "value",
      "stream": "Writeable.Process.Sales",
      "value": {
        "type": {
          "type": "Dict",
          "value": {
            "key": {
              "type": "String",
              "value": null
            },
            "value": {
              "type": "Struct",
              "value": {
                "date": {
                  "type": "DateTime",
                  "value": null
                },
                "saleQty": {
                  "type": "Dict",
                  "value": {
                    "key": {
                      "type": "String",
                      "value": null
                    },
                    "value": {
                      "type": "Integer",
                      "value": null
                    }
                  }
                }
              }
            }
          }
        },
        "ast_type": "Const",
        "value": [
          {
            "key": "0",
            "value": {
              "date": "2022-10-10T09:00:00.000Z",
              "saleQty": [
                {
                  "key": "hotdog",
                  "value": "1"
                },
                {
                  "key": "vegan hotdog",
                  "value": "3"
                }
              ]
            }
          },
          {
            "key": "1",
            "value": {
              "date": "2022-10-10T10:00:00.000Z",
              "saleQty": [
                {
                  "key": "hotdog",
                  "value": "2"
                },
                {
                  "key": "vegan hotdog",
                  "value": "2"
                }
              ]
            }
          },
          {
            "key": "2",
            "value": {
              "date": "2022-10-10T11:00:00.000Z",
              "saleQty": [
                {
                  "key": "hotdog",
                  "value": "3"
                },
                {
                  "key": "vegan hotdog",
                  "value": "1"
                }
              ]
            }
          }
        ]
      }
    },
    "Writeable.Resource.Stock-on-hand": {
      "default_type": "value",
      "value": {
        "type": {
          "type": "Dict",
          "value": {
            "key": {
              "type": "String",
              "value": null
            },
            "value": {
              "type": "Struct",
              "value": {
                "name": {
                  "type": "String",
                  "value": null
                },
                "qty": {
                  "type": "Integer",
                  "value": null
                }
              }
            }
          }
        },
        "ast_type": "Const",
        "value": [
          {
            "key": "0",
            "value": {
              "name": "hotdog",
              "qty": "50"
            }
          },
          {
            "key": "1",
            "value": {
              "name": "vegan hotdog",
              "qty": "30"
            }
          }
        ]
      },
      "stream": "Writeable.Resource.Stock-on-hand"
    }
  }
}